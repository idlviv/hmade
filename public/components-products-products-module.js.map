{"version":3,"sources":["webpack:///./src/app/components/products/breadcrumb/breadcrumb.component.html","webpack:///./src/app/components/products/breadcrumb/breadcrumb.component.scss","webpack:///./src/app/components/products/breadcrumb/breadcrumb.component.ts","webpack:///./src/app/components/products/products-detail-side/products-detail-side.component.html","webpack:///./src/app/components/products/products-detail-side/products-detail-side.component.scss","webpack:///./src/app/components/products/products-detail-side/products-detail-side.component.ts","webpack:///./src/app/components/products/products-detail/products-detail.component.html","webpack:///./src/app/components/products/products-detail/products-detail.component.scss","webpack:///./src/app/components/products/products-detail/products-detail.component.ts","webpack:///./src/app/components/products/products-list/products-list.component.html","webpack:///./src/app/components/products/products-list/products-list.component.scss","webpack:///./src/app/components/products/products-list/products-list.component.ts","webpack:///./src/app/components/products/products-routing.module.ts","webpack:///./src/app/components/products/products.component.html","webpack:///./src/app/components/products/products.component.scss","webpack:///./src/app/components/products/products.component.ts","webpack:///./src/app/components/products/products.module.ts"],"names":[],"mappings":"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","file":"components-products-products-module.js","sourcesContent":["module.exports = \"\\r\\n<div class=\\\"mat-elevation-z4\\\" id=\\\"breadcrumb\\\">\\r\\n  <!-- <mat-toolbar-row> -->\\r\\n    <div class=\\\"app-container-h\\\">\\r\\n      <div class=\\\"container\\\">\\r\\n        <div class=\\\"row\\\" fxLayout>\\r\\n          <div class=\\\"cell wrap\\\" fxFlex fxLayout=\\\"row\\\">\\r\\n            <div>\\r\\n              <a class=\\\"link\\\"\\r\\n                 [routerLink]=\\\"['/products', 'ch']\\\"\\r\\n                 [routerLinkActive]=\\\"['primary-light']\\\" [routerLinkActiveOptions]=\\\"{exact: true}\\\">\\r\\n                 <span class=\\\"type2\\\"><mat-icon class=\\\"mat-icon-aligner\\\">room</mat-icon></span> \\r\\n              </a>\\r\\n            </div>\\r\\n\\r\\n            <div *ngFor=\\\"let hierarchyCategoryItem of hierarchyCategory\\\">\\r\\n              <a class=\\\"link\\\" *ngIf=\\\"!processing\\\"\\r\\n                 [routerLink]=\\\"['/products', 'ch', {outlets: {primary: [hierarchyCategoryItem._id], breadcrumb: [hierarchyCategoryItem._id]}}]\\\"\\r\\n                 [routerLinkActive]=\\\"['active']\\\" [routerLinkActiveOptions]=\\\"{exact: true}\\\">\\r\\n                 <span class=\\\"type2\\\">{{hierarchyCategoryItem.name}}<mat-icon class=\\\"mat-icon-aligner\\\">keyboard_arrow_right</mat-icon></span></a>\\r\\n            </div>\\r\\n            <div *ngIf=\\\"!processing\\\" fxHide.lt-md>\\r\\n              <a *ngIf=\\\"productName\\\" disabled class=\\\"link\\\">\\r\\n                 <span class=\\\"type2\\\">{{productName}}</span></a>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  <!-- </mat-toolbar-row> -->\\r\\n  </div>\\r\\n\"","module.exports = \"\"","import { Component, OnInit } from '@angular/core';\r\nimport { mergeMap } from 'rxjs/operators';\r\nimport { combineLatest } from 'rxjs';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { CatalogService } from '../../../services/catalog.service';\r\nimport { ProductService } from '../../../services/product.service';\r\n\r\n@Component({\r\n  selector: 'app-breadcrumb',\r\n  templateUrl: './breadcrumb.component.html',\r\n  styleUrls: ['./breadcrumb.component.scss']\r\n})\r\nexport class BreadcrumbComponent implements OnInit {\r\n  category_id: string;\r\n  categoryName: string;\r\n  currentCategory: any;\r\n  hierarchyCategory: any;\r\n  product_id: string;\r\n  productName: any;\r\n  processing = true;\r\n\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private catalogService: CatalogService,\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    const $paramMap = this.route.paramMap;\r\n    const $queryParamMap = this.route.queryParamMap;\r\n    combineLatest(\r\n      $paramMap.pipe(\r\n        mergeMap(paramMap => {\r\n          this.processing = true;\r\n          this.category_id = paramMap.get('category_id');\r\n          if (!this.category_id) {\r\n            return this.catalogService.getAllParents('products');\r\n          }\r\n          return this.catalogService.getAllParents(this.category_id);\r\n        })\r\n      ),\r\n      $queryParamMap\r\n    )\r\n      .subscribe(result => {\r\n          this.productName = result[1].get('name');\r\n          this.hierarchyCategory = result[0].hierarchy;\r\n          this.hierarchyCategory.push(result[0]);\r\n          this.hierarchyCategory.splice(0, 3);\r\n          this.processing = false;\r\n        },\r\n        err => console.log('Помилка breadcrumb', err)\r\n      );\r\n  }\r\n}\r\n","module.exports = \"<!--<a *ngFor=\\\"let sibling of siblings\\\" mat-button-->\\n   <!--[routerLink]=\\\"['/products', 'ch', {outlets: {primary: [category_id, 'details', sibling._id],-->\\n     <!--breadcrumb: [category_id, 'details', sibling._id]}}]\\\"-->\\n   <!--[queryParams]=\\\"{name: sibling.name}\\\"-->\\n   <!--[routerLinkActive]=\\\"['accent-background']\\\" [routerLinkActiveOptions]=\\\"{exact: true}\\\">-->\\n  <!--{{sibling.name}}-->\\n<!--</a>-->\\n\\n<mat-nav-list>\\n    <a mat-list-item *ngFor=\\\"let sibling of siblings\\\"\\n       [routerLink]=\\\"['/products', 'ch', {outlets: {primary: [category_id, 'details', sibling._id],\\n     breadcrumb: [category_id, 'details', sibling._id]}}]\\\"\\n       [queryParams]=\\\"{name: sibling.name}\\\"\\n       [routerLinkActive]=\\\"['primary']\\\" [routerLinkActiveOptions]=\\\"{exact: true}\\\">\\n      {{sibling.name}}\\n    </a>\\n</mat-nav-list>\"","module.exports = \"\"","import { Component, Input, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-products-detail-side',\n  templateUrl: './products-detail-side.component.html',\n  styleUrls: ['./products-detail-side.component.scss']\n})\nexport class ProductsDetailSideComponent implements OnInit {\n  @Input() siblings;\n  @Input() category_id;\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","module.exports = \"<div class=\\\"row\\\" fxLayout=\\\"row\\\">\\r\\n\\r\\n  <!-- <div *ngIf=\\\"!product\\\" style=\\\"width: 100vw; text-align: center;\\\">\\r\\n    <div style=\\\"display: inline-block;\\\">\\r\\n      <object type=\\\"image/svg+xml\\\" data=\\\"./assets/images/loading.svg\\\" width=\\\"40px\\\" height=\\\"16px\\\">\\r\\n        Loading..\\r\\n      </object>\\r\\n    </div>\\r\\n  </div> -->\\r\\n\\r\\n  <div class=\\\"cell-menu\\\" fxFlex.lt-md=\\\"100\\\" fxFlex.gt-sm=\\\"250px\\\">\\r\\n    <app-products-detail-side [siblings]=\\\"siblings\\\" [category_id]=\\\"category_id\\\"></app-products-detail-side>\\r\\n  </div>\\r\\n  <div class=\\\"cell\\\" fxFlex.lt-md=\\\"100\\\" fxFlex.gt-sm=\\\"calc(100%-250px)\\\">\\r\\n\\r\\n    <app-product-item-detail *ngIf=\\\"product\\\" [product]=\\\"product\\\" [category_id]=\\\"category_id\\\"></app-product-item-detail>\\r\\n  </div>\\r\\n\\r\\n</div>\"","module.exports = \"\"","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { ProductService } from '../../../services/product.service';\r\nimport { CatalogService } from '../../../services/catalog.service';\r\nimport { mergeMap } from 'rxjs/operators';\r\nimport { forkJoin } from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'app-products-detail',\r\n  templateUrl: './products-detail.component.html',\r\n  styleUrls: ['./products-detail.component.scss']\r\n})\r\nexport class ProductsDetailComponent implements OnInit {\r\n  category_id: string;\r\n  product_id: string;\r\n  product: any; // IProduct\r\n  siblings: string[];\r\n\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private productService: ProductService,\r\n    private catalogService: CatalogService,\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n\r\n    this.route.paramMap.pipe(\r\n      mergeMap(paramMap => {\r\n        this.category_id = paramMap.get('category_id');\r\n        this.product_id = paramMap.get('product_id');\r\n        return forkJoin (\r\n          this.productService.getProductById(this.product_id, 'products', true),\r\n          this.productService.getProductsByParent(this.category_id, 'products', true)\r\n        );\r\n      })\r\n    )\r\n      .subscribe(\r\n        result => {\r\n          this.product = result[0].data;\r\n          this.siblings = result[1].data;\r\n        }\r\n      );\r\n  }\r\n\r\n}\r\n","module.exports = \"<div *ngIf=\\\"category?.description\\\" class=\\\"row\\\" fxLayout=\\\"row\\\">\\r\\n  <div class=\\\"cell\\\" fxFlex=\\\"100\\\">\\r\\n    <mat-card>\\r\\n      <mat-card-content>\\r\\n        <div class=\\\"text-justify\\\">\\r\\n          <div class=\\\"category-description-body\\\">\\r\\n            <p [innerHTML]=\\\"category?.description\\\"></p>\\r\\n          </div>\\r\\n\\r\\n\\r\\n        </div>\\r\\n      </mat-card-content>\\r\\n    </mat-card>\\r\\n  </div>\\r\\n</div>\\r\\n<div class=\\\"row\\\" fxLayout=\\\"row\\\" >\\r\\n  <div *ngFor=\\\"let product of products\\\"  class=\\\"cell\\\"\\r\\n       fxFlex.xs=\\\"100\\\" fxFlex.sm=\\\"50\\\" fxFlex.md=\\\"33.3\\\" fxFlex.gt-md=\\\"25\\\">\\r\\n    <app-product-item-brief [product]=\\\"product\\\" [category_id]=\\\"category_id\\\"></app-product-item-brief>\\r\\n  </div>\\r\\n  <div *ngFor=\\\"let child of children\\\" class=\\\"cell\\\"\\r\\n       fxFlex.xs=\\\"100\\\" fxFlex.sm=\\\"50\\\" fxFlex.md=\\\"33.3\\\" fxFlex.gt-md=\\\"25\\\">\\r\\n    <app-product-item-brief  [child]=\\\"child\\\"></app-product-item-brief>\\r\\n  </div>\\r\\n</div>\\r\\n\"","module.exports = \"\"","import { Component, OnInit } from '@angular/core';\r\nimport { mergeMap } from 'rxjs/operators';\r\nimport { of } from 'rxjs';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { ProductService } from '../../../services/product.service';\r\nimport { IProduct } from '../../../interfaces/product-interface';\r\nimport { CatalogService } from '../../../services/catalog.service';\r\nimport { ICatalog } from '../../../interfaces/catalog-interface';\r\nimport { SharedService } from '../../../services/shared.service';\r\n\r\n@Component({\r\n  selector: 'app-products-list',\r\n  templateUrl: './products-list.component.html',\r\n  styleUrls: ['./products-list.component.scss']\r\n})\r\nexport class ProductsListComponent implements OnInit {\r\n  products: IProduct[];\r\n  category_id: string;\r\n  children: string;\r\n  category: any;\r\n\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private productService: ProductService,\r\n    private catalogService: CatalogService,\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.route.paramMap.pipe(\r\n      mergeMap(param => {\r\n        this.category_id = param.get('category_id');\r\n        if (!this.category_id) {\r\n          // starting from root\r\n          return of(null);\r\n        }\r\n        // starting from selected category\r\n        return this.catalogService.getCategoryById(this.category_id);\r\n      }),\r\n      mergeMap(category => {\r\n        if (!category) {\r\n          // get children of root\r\n          return this.catalogService.getChildren('products');\r\n        } else {\r\n          this.category = category.data;\r\n          // get children of selected category\r\n          console.log('this.category_id', this.category_id);\r\n          return this.catalogService.getChildren(this.category_id);\r\n        }\r\n      }),\r\n      mergeMap(children => {\r\n        this.children = children.data;\r\n        if (!this.children.length) {\r\n          // if no children - show products\r\n          return this.productService.getProductsByParent(this.category_id, 'products', true);\r\n        } else {\r\n          return this.productService.getProductsByParent(null, 'products', true);\r\n        }\r\n      }))\r\n      .subscribe(\r\n        products => this.products = products.data,\r\n        err => console.log('error', err)\r\n      );\r\n  }\r\n}\r\n","import { Routes, RouterModule } from '@angular/router';\r\nimport { NgModule } from '@angular/core';\r\nimport { ProductsListComponent } from './products-list/products-list.component';\r\nimport { ProductsComponent } from './products.component';\r\nimport { BreadcrumbComponent } from './breadcrumb/breadcrumb.component';\r\n// import { ProductItemDetailComponent } from '../shared/product-item-detail/product-item-detail.component';\r\nimport { ProductsDetailComponent } from './products-detail/products-detail.component';\r\n\r\nconst productsRoutes: Routes = [\r\n  {\r\n    path: 'ch',\r\n    component: ProductsComponent,\r\n    children: [\r\n      {\r\n        path: '',\r\n        component: ProductsListComponent,\r\n      },\r\n      {\r\n        path: '',\r\n        component: BreadcrumbComponent,\r\n        outlet: 'breadcrumb',\r\n      },\r\n      {\r\n        path: ':category_id',\r\n        component: ProductsListComponent,\r\n      },\r\n      {\r\n        path: ':category_id',\r\n        component: BreadcrumbComponent,\r\n        outlet: 'breadcrumb',\r\n      },\r\n      {\r\n        path: ':category_id/details/:product_id',\r\n        component: ProductsDetailComponent,\r\n      },\r\n      {\r\n        path: ':category_id/details/:product_id',\r\n        component: BreadcrumbComponent,\r\n        outlet: 'breadcrumb',\r\n      },\r\n    ],\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    RouterModule.forChild(\r\n      productsRoutes\r\n    )],\r\n  exports: [RouterModule]\r\n})\r\n\r\nexport class ProductsRoutingModule {}\r\n","module.exports = \"<!--<div class=\\\"app-container-h\\\">-->\\r\\n  <!--<div class=\\\"container\\\">-->\\r\\n    <router-outlet name=\\\"breadcrumb\\\"></router-outlet>\\r\\n  <!--</div>-->\\r\\n<!--</div>-->\\r\\n<div class=\\\"app-container-h\\\">\\r\\n  <div class=\\\"container\\\">\\r\\n    <router-outlet></router-outlet>\\r\\n  </div>\\r\\n</div>\"","module.exports = \"\"","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-products',\n  templateUrl: './products.component.html',\n  styleUrls: ['./products.component.scss']\n})\nexport class ProductsComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { MaterialModule } from '../../material.module';\r\nimport { SharedModule } from '../shared/shared.module';\r\nimport { ProductsListComponent } from './products-list/products-list.component';\r\nimport { ProductsRoutingModule } from './products-routing.module';\r\nimport { BreadcrumbComponent } from './breadcrumb/breadcrumb.component';\r\nimport { ProductsComponent } from './products.component';\r\nimport { ProductsDetailComponent } from './products-detail/products-detail.component';\r\nimport { ProductsDetailSideComponent } from './products-detail-side/products-detail-side.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    ProductsRoutingModule,\r\n    MaterialModule,\r\n    SharedModule,\r\n  ],\r\n  exports: [],\r\n  declarations: [\r\n    ProductsListComponent,\r\n    BreadcrumbComponent,\r\n    ProductsComponent,\r\n    ProductsDetailComponent,\r\n    ProductsDetailSideComponent,\r\n  ]\r\n})\r\nexport class ProductsModule { }\r\n"],"sourceRoot":""}